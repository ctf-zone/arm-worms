(this["webpackJsonparm-worms-ui"]=this["webpackJsonparm-worms-ui"]||[]).push([[0],{32:function(e,t,n){e.exports=n(55)},54:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var r=n(12),a=n(11),c=n(2),o=n.n(c),i=n(3),u=n(28),s=n(8),l=n.n(s),f=(n(54),{mslc:{color:"#e04a3f",short:"LC"},TSG:{color:"#fa01af",short:"TG"},mhackeroni:{color:"#e5b946",short:"MI"},Bushwhackers:{color:"#78b353",short:"BS"},"Tea Deliverers":{color:"#02ec00",short:"TD"},p4:{color:"#075cff",short:"P4"},"perfect blue":{color:"#6686e3",short:"PB"},"\u5730\u677e\u9f20.PAS":{color:"#a963ba",short:"SP"},"Dragon Sector":{color:"#00d6d8",short:"DS"},"A*0*E":{color:"#864d00",short:"A0E"}});document.getElementById("reset").addEventListener("click",(function(){y=parseInt(document.getElementById("speed").value),D()}));var m,d,p,h,g,x,v,y=10,b=window.location.href,k=new URL(b),w=k.searchParams.get("check"),_=k.searchParams.get("uuid"),F=function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=_||p,e.next=3,l.a.get("/api/json_map/".concat(t)).then((function(e){return e.data}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=_||p,e.next=3,l.a.get("/api/json_replay/".concat(t)).then((function(e){return e.data}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return clearTimeout(v),e.next=3,l.a.get("/api/get_last_uuid").then((function(e){var t=e.data;p!==t&&void 0!==p&&document.location.reload(!0),p=t,"true"!==w&&(v=setTimeout((function(){S()}),1e4))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(e,t,n,r){t.fillStyle=f[h.get(e.id).team_name].color,t.fillRect.apply(t,[e.x-n[0]/2,e.y-n[1]/2].concat(Object(a.a)(n))),t.textAlign="center",t.textBaseline="middle",t.fillStyle="#000",t.fillText(r,e.x,e.y)},T=function(e,t,n,r){var c=36;t.font="".concat(c,"px Sans-Serif");var o=t.measureText(n).width,i=[o,c].map((function(e){return e+1*c}));void 0!==g.get(r)&&g.get(r).id===e.id?(!function(e,t,n,r,c){var o=[n,r].map((function(e){return e+1*r+30}));t.fillStyle="#FFF",t.fillRect.apply(t,[e.x-c[0]/2-15,e.y-c[1]/2-15].concat(Object(a.a)(o)))}(e,t,o,c,i),O(e,t,i,n)):O(e,t,i,n)},P=Object(u.a)(),B=function(e){return new Promise((function(t){return setTimeout(t,e)}))},E=function(){var e=Object(i.a)(o.a.mark((function e(t,n,r){var a,c,i,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=0;case 1:if(!(a<t.length)){e.next=11;break}if(t.length>10&&Array.isArray(t[0])&&(t[a].forEach((function(e){return x.set(e.team_name,{team_name:e.team_name,score:e.current_score})})),c=Array.from(x.values()).sort((function(e,t){return t.score-e.score})),a%10===0))for(i=0;i<10;i++)(u=document.getElementsByClassName("place")[i]).style.color="#FFF",u.innerHTML='<span style="color: '.concat(c[i]?f[c[i].team_name].color:"#FFF",'">').concat(c[i]?c[i].team_name:"Team".concat(i),"</span> Scores: ").concat(c[i]?c[i].score:0);if(0===t[a].length){e.next=8;break}return e.next=6,B(r);case 6:return e.next=8,n(t[a]);case 8:a++,e.next=1;break;case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),D=function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_){e.next=3;break}return e.next=3,S();case 3:return e.next=5,F();case 5:return m=e.sent,e.next=8,j();case 8:return d=e.sent,h=new Map(m.nodes.map((function(e){return[e.id,Object(r.a)({},e)]}))),g=new Map,x=new Map(Object.keys(f).map((function(e){return[e,{team_name:e,score:0}]}))),e.next=14,t=m,P(document.getElementById("graph")).width(document.getElementById("graph").offsetWidth-4).height(document.getElementById("graph").offsetHeight-4).d3AlphaDecay(3e-6).d3VelocityDecay(3e-6).cooldownTicks(0).warmupTicks(1e4).nodeColor((function(e){return h.get(e.id).team_name?"transparent":"#FFF"})).nodeRelSize(15).linkColor((function(e){return"#4d4d4d"})).linkDirectionalParticleColor((function(e){return e.color||"#FFF"})).linkDirectionalParticleWidth(10).nodeCanvasObject((function(e,t,n){if(""!==e.team_name){var r=f[e.team_name].short,a=e.team_name;return T(e,t,r,a)}if(h.get(e.id).team_name){var c=f[h.get(e.id).team_name].short,o=h.get(e.id).team_name;return T(e,t,c,o)}t.fillStyle="#FFF",t.beginPath(),t.arc(e.x,e.y,15,0,2*Math.PI,!1),t.fill()})).backgroundColor("#20232a").graphData(t),P.d3Force("link").distance((function(e){return 500})),void P.zoom(.25);case 14:if(0===d.length){e.next=17;break}return e.next=17,E(d,(function(e){E(e,function(){var e=Object(i.a)(o.a.mark((function e(t){var n,a,c,i,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target,a=t.mining,c=t.source,i=t.team_name,u=m.links.find((function(e){return e.source.id===c&&e.target.id===n})),1===a){e.next=9;break}return P.pushParticle(u.source.id,u.target.id,{speed:y<=100?.1:10/y,color:f[i].color}),e.next=6,B(y/10);case 6:h.set(n,Object(r.a)({},h.get(n),{team_name:i})),e.next=10;break;case 9:g.set(i,{id:c});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y)}),y);case 17:case"end":return e.stop()}var t}),e)})));return function(){return e.apply(this,arguments)}}();D()}},[[32,1,2]]]);
//# sourceMappingURL=main.569f90ae.chunk.js.map